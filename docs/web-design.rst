.. _web-design:

Web 服务器设计要点
======================

顶点云 Web 服务器的设计主要复用了应用程序服务器的设计。

我们建议，如果您想使用顶点云 Web 服务器的代码做一些自定义开发工作，最好能够维护如下几条准则，这是我们根据编写过程中遇到过的问题总结出的经验：

1. 先设计蓝本，以及蓝本的职责，再决定蓝本提供的视图函数。
2. 视图函数应尽量避免重复代码，应尽量将共同的代码部分抽象，如使用一个表驱动函数池。在设计顶点云 Web 服务器时，我没有很好的组织代码，因此无论是应用程序服务器还是 Web 服务器，均出现了一处 bug 多处修改的困境。
3. 将需要根据环境改变的变量写入到配置文件中，如果是扩展功能的配置项，应创建新的子类并包含此项。用户可以选择多重继承来实现扩展功能的组合。

感谢您的阅读！到这里顶点云的 Web 服务器文档就结束了，您可以阅读 :ref:`web-log` 以了解顶点云 Web 服务器开发过程的变动历史，或者阅读 :ref:`zenith-app` 以了解顶点云应用程序服务器的相关信息。
